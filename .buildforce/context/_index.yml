version: "1.0"

# ============================================================================
# CONTEXT INDEX FIELD DOCUMENTATION
# ============================================================================
#
# Each context entry in the index has the following fields:
#
# REQUIRED FIELDS:
# ----------------
# - id (string, kebab-case):
#     Unique identifier matching the context filename (without .yml extension)
#     Must be unique across all entries in this index
#     Example: "authentication", "build-command", "error-handling"
#
# - file (string):
#     Context filename (must match id field with .yml extension)
#     Example: "authentication.yml", "build-command.yml"
#
# - type (enum):
#     Category of the context for organization
#     Valid values: module | feature | component | pattern
#       - module: High-level system module (e.g., authentication, payment)
#       - feature: Specific feature within a module (e.g., OAuth login)
#       - component: Reusable UI or code component
#       - pattern: Design pattern or architectural decision
#     Example: "feature"
#
# OPTIONAL BUT RECOMMENDED FIELDS:
# ---------------------------------
# - description (string, max 100 chars):
#     Generic, stable one-liner describing WHAT this component/feature/module IS
#     Focus on its identity and purpose, not implementation details or achievements
#     Should remain relevant across versions and evolution
#     Example: "User authentication system with JWT tokens and OAuth2 integration"
#
# - tags (array of strings):
#     Searchable keywords for discovery
#     Use relevant terms related to functionality, technology, domain
#     Example: [auth, security, jwt, oauth2]
#
# - related_context (array of context IDs, OPTIONAL):
#     Array of context IDs that are closely related to this context
#     Enables agents to discover related contexts through explicit cross-references
#
#     **When to populate:**
#       - Feature families (e.g., all slash commands reference slash-commands)
#       - Dependent modules (e.g., build-command depends on plan-template)
#       - Sibling features (e.g., research and document commands work together)
#
#     **Usage guidelines:**
#       - Only include contexts that are closely related or have direct dependencies
#       - Avoid over-populatingâ€”focus on significant relationships
#       - IDs must exist in this _index.yml file (no validation enforced)
#       - Bidirectional relationships recommended for discoverability
#         (if A references B, B should reference A)
#
#     Example: [plan-template, iterate-plan-command, spec-command]
#
# ============================================================================

contexts:
  - id: slash-commands
    file: slash-commands.yml
    type: module
    description: "Core slash command system enabling spec-driven development workflow for AI agents"
    tags: [core, workflow, agents]
    related_context:
      [
        research-slash-command,
        spec-command,
        iterate-plan-command,
        build-command,
        complete-command,
        document-command,
        plan-template,
        cli-architecture,
      ]

  - id: research-slash-command
    file: research-slash-command.yml
    type: feature
    description: "Slash command for gathering context from project knowledge, codebase, and external sources"
    tags: [core, workflow, research, context-gathering]
    related_context: [slash-commands, cli-architecture, document-command]

  - id: build-command
    file: build-command.yml
    type: feature
    description: "Slash command for implementing features following spec and plan with progress tracking"
    tags:
      [
        slash-command,
        build,
        command-iteration,
        compression,
        workflow-enhancement,
        script-execution,
      ]
    related_context:
      [slash-commands, plan-template, iterate-plan-command, spec-command]

  - id: plan-template
    file: plan-template.yml
    type: feature
    description: "YAML template structure for implementation plans with task tracking and validation"
    tags:
      [
        template,
        plan-template,
        build-agent,
        progress-tracking,
        checkbox-tracking,
        deviation-logging,
        spec-traceability,
        workflow-enhancement,
      ]
    related_context:
      [iterate-plan-command, build-command, spec-command, slash-commands]

  - id: iterate-plan-command
    file: iterate-plan-command.yml
    type: feature
    description: "Slash command for creating and refining implementation plans from specifications"
    tags:
      [
        slash-command,
        plan,
        command-iteration,
        compression,
        workflow-enhancement,
        script-execution,
        fixed-output-format,
        user-approval,
      ]
    related_context:
      [slash-commands, plan-template, spec-command, build-command]

  - id: document-command
    file: document-command.yml
    type: feature
    description: "Enhanced /document command with /complete UX patterns, empty context detection, and completion summaries"
    tags:
      [
        slash-command,
        document,
        context-creation,
        template-only,
        kebab-case-naming,
        intelligent-merge,
        auto-detection,
        workflow-utility,
        ux-enhancement,
      ]
    related_context:
      [
        slash-commands,
        complete-command,
        cli-architecture,
        research-slash-command,
      ]

  - id: readme-documentation
    file: readme-documentation.yml
    type: feature
    description: "Primary documentation for BuildForce CLI covering installation, workflow, and contribution"
    tags:
      [
        documentation,
        readme,
        onboarding,
        spec-driven-development,
        philosophy,
        installation,
        quick-start,
        workflow,
        slash-commands,
        troubleshooting,
        contribution-guidelines,
        roadmap,
        changelog,
      ]
    related_context: [cli-architecture, slash-commands]

  - id: spec-command
    file: spec-command.yml
    type: feature
    description: "Template-based /spec command for creating/updating specifications with state-based CREATE vs UPDATE logic"
    tags:
      [
        slash-command,
        spec,
        template-only,
        state-tracking,
        timestamp-naming,
        agent-driven,
        workflow-core,
      ]
    related_context:
      [slash-commands, iterate-plan-command, plan-template, complete-command]

  - id: complete-command
    file: complete-command.yml
    type: feature
    description: "Template-only /complete command for finalizing specs with agent-driven context file management"
    tags:
      [
        slash-command,
        complete,
        template-only,
        context-management,
        semantic-naming,
        intelligent-merge,
        workflow-core,
      ]
    related_context: [slash-commands, spec-command, document-command]

  - id: upgrade-command
    file: upgrade-command.yml
    type: feature
    description: "Slash command for upgrading projects to latest templates while preserving user content"
    tags:
      [
        slash-command,
        upgrade,
        template-upgrade,
        preservation,
        dry-run,
        atomic-operations,
        backward-compatibility,
        workflow-utility,
      ]
    related_context:
      [
        slash-commands,
        cli-architecture,
        spec-command,
        complete-command,
        local-artifact-resolution,
      ]

  - id: cli-architecture
    file: cli-architecture.yml
    type: module
    description: "Comprehensive CLI architecture with template distribution, context management, and multi-agent support"
    tags:
      [
        core,
        architecture,
        cli,
        commander,
        github-releases,
        context-system,
        agent-support,
        initialization,
        workflow-foundation,
      ]
    related_context:
      [
        slash-commands,
        document-command,
        research-slash-command,
        spec-command,
        plan-template,
        upgrade-command,
        local-artifact-resolution,
      ]

  - id: research-persistence
    file: research-persistence.yml
    type: feature
    description: "Research persistence with three-stage pipeline: accumulation, intelligent materialization, and cleanup"
    tags:
      [
        research,
        persistence,
        materialization,
        cache,
        workflow-enhancement,
        template-only,
      ]
    related_context:
      [research-slash-command, spec-command, build-command, complete-command]

  - id: local-artifact-resolution
    file: local-artifact-resolution.yml
    type: feature
    description: "Local artifact resolution system for offline workflows and faster testing iterations"
    tags:
      [
        artifact-resolution,
        offline-support,
        local-development,
        testing,
        glob-pattern,
        workflow-utility,
      ]
    related_context: [cli-architecture, upgrade-command]

  - id: state-tracking
    file: state-tracking.yml
    type: feature
    description: "JSON-based state tracking using buildforce.json to manage active spec sessions"
    tags:
      [
        core,
        state-management,
        buildforce-json,
        configuration,
        workflow-foundation,
      ]
    related_context:
      [
        spec-command,
        research-persistence,
        complete-command,
        cli-architecture,
      ]
